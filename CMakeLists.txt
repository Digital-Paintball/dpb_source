PROJECT(DPB)

SET(LIBRARY_OUTPUT_PATH ${DPB_BINARY_DIR}/lib CACHE INTERNAL "Single output directory for building all libraries.")
SET(EXECUTABLE_OUTPUT_PATH ${DPB_BINARY_DIR}/bin CACHE INTERNAL "Single output directory for building all executables.")

IF(WIN32)
	# Single-threaded, static link instead of default multithreaded, dynamic link
	SET(CMAKE_CXX_FLAGS "/W4 /Zm1000 /EHsc /GX /GR" CACHE INTERNAL "Configuration")

	SET(CMAKE_CXX_FLAGS_RELEASE "/ML /O2 /D NDEBUG" CACHE INTERNAL "Configuration")
	SET(CMAKE_CXX_FLAGS_DEBUG "/MLd /ZI /Od /GZ" CACHE INTERNAL "Configuration")
	SET(CMAKE_CXX_FLAGS_MINSIZEREL "/ML /O1 /D NDEBUG" CACHE INTERNAL "Configuration")
	SET(CMAKE_CXX_FLAGS_RELWITHDEBINFO "/ML /ZI /O2 /D NDEBUG" CACHE INTERNAL "Configuration")

	SET(CMAKE_C_FLAGS_DEBUG "/MLd /ZI /Od /GZ" CACHE INTERNAL "Configuration")
	SET(CMAKE_C_FLAGS_MINSIZEREL "/ML /O1 /D NDEBUG" CACHE INTERNAL "Configuration")
	SET(CMAKE_C_FLAGS_RELEASE "/ML /O2 /D NDEBUG" CACHE INTERNAL "Configuration")
	SET(CMAKE_C_FLAGS_RELWITHDEBINFO "/ML /ZI /O2 /D NDEBUG" CACHE INTERNAL "Configuration")
	
	SET(CMAKE_CXX_FLAGS_INIT "/W4 /Zm1000 /GR" CACHE INTERNAL "Configuration")
	SET(CMAKE_CXX_FLAGS_DEBUG_INIT "/MLd /Zi /Od /RTC1" CACHE INTERNAL "Configuration")
	SET(CMAKE_CXX_FLAGS_MINSIZEREL_INIT "/ML /O1 /D NDEBUG" CACHE INTERNAL "Configuration")
	SET(CMAKE_CXX_FLAGS_RELEASE_INIT "/ML /O2 /D NDEBUG" CACHE INTERNAL "Configuration")
	SET(CMAKE_CXX_FLAGS_RELWITHDEBINFO_INIT "/ML /Zi /O2 /D NDEBUG" CACHE INTERNAL "Configuration")

	SET(CMAKE_C_FLAGS_INIT "/W4 /Zm1000" CACHE INTERNAL "Configuration")
	SET(CMAKE_C_FLAGS_DEBUG_INIT "/MLd /ZI /Od /GZ" CACHE INTERNAL "Configuration")
	SET(CMAKE_C_FLAGS_MINSIZEREL_INIT "/ML /O1 /D NDEBUG" CACHE INTERNAL "Configuration")
	SET(CMAKE_C_FLAGS_RELEASE_INIT "/ML /O2 /D NDEBUG" CACHE INTERNAL "Configuration")
	SET(CMAKE_C_FLAGS_RELWITHDEBINFO_INIT "/ML /ZI /O2 /D NDEBUG" CACHE INTERNAL "Configuration")
ENDIF(WIN32)

IF(CMAKE_GENERATOR MATCHES "Visual Studio")
	SET( VS_INTDIR "/$(IntDir)")
ENDIF(CMAKE_GENERATOR MATCHES "Visual Studio")

SUBDIRS(src content)
